{"ast":null,"code":"var _jsxFileName = \"/Users/hamzarajput/Downloads/Project/New folder/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from './auth';\nimport \"../App.css\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [getToken, setGetToken] = useState(\"\");\n  const [user, setUser] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const auth = useAuth(); // const redirectPath = location.state?.path || '/'\n  // const handleLogin = () => {\n  //   auth.login(email)\n  //   navigate(redirectPath, { replace: true })\n  // }\n\n  useEffect(() => {\n    setGetToken(JSON.parse(localStorage.getItem(\"token\")));\n  }, []);\n\n  let handleSubmit = async e => {\n    auth.login(email); // navigate(redirectPath, { replace: true })\n    // auth.Login(user)\n\n    e.preventDefault();\n\n    try {\n      var myHeaders = new Headers();\n      myHeaders.append(\"x-auth-token\", getToken);\n      myHeaders.append(\"Authorization\", \"Bearer\" + getToken);\n      myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n      var urlencoded = new URLSearchParams();\n      urlencoded.append(\"email\", email);\n      urlencoded.append(\"password\", password);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: urlencoded,\n        redirect: \"follow\"\n      }; //ye ap ny sai wala dala tha ab dono condition check kro\n\n      fetch(\"http://localhost:5000/auth\", requestOptions).then(response => response.text()).then(result => {\n        const data = JSON.parse(result);\n        console.log(\"token>>>>>\", data.token);\n        alert(data.token);\n\n        if (data.token) {\n          localStorage.setItem('token', result);\n          console.log(\"token\", data.token);\n          navigate('/service');\n        } else {\n          alert(\"Invalid\");\n        }\n      }).catch(error => console.log(\"error\", error));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center position-absolute top-50 start-50 translate-middle signup-form body1\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"row g-3 form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12  form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control  \",\n            type: \"email\",\n            value: email,\n            placeholder: \"email\",\n            onChange: e => setemail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control \",\n            type: \"password\",\n            value: password,\n            placeholder: \"password\",\n            onChange: e => setpassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \" btn  btn-primary\",\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message\",\n          children: message ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 45\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hint-text \",\n        children: [\"Don't have an account?Click here\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-dark\",\n            children: \"Create an Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"psw\",\n          children: [\"Forgot password? \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/forgottenpassword\",\n            children: \"Reset here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(Login, \"iQ7bxBWPJTQI3s/ICP6qHsvOd9w=\", false, function () {\n  return [useNavigate, useLocation, useAuth];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","useLocation","useAuth","useState","useEffect","Login","email","setemail","password","setpassword","message","setMessage","getToken","setGetToken","user","setUser","navigate","location","auth","JSON","parse","localStorage","getItem","handleSubmit","e","login","preventDefault","myHeaders","Headers","append","urlencoded","URLSearchParams","requestOptions","method","headers","body","redirect","fetch","then","response","text","result","data","console","log","token","alert","setItem","catch","error","err","target","value"],"sources":["/Users/hamzarajput/Downloads/Project/New folder/src/components/Login.js"],"sourcesContent":["\nimport { useNavigate, useLocation } from 'react-router-dom'\nimport { useAuth } from './auth'\nimport \"../App.css\";\nimport { useState, useEffect } from \"react\";\n\nexport const Login = () => {\n  const [email, setemail] = useState(\"\");\n  const [password, setpassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const [getToken, setGetToken] = useState(\"\");\n  const [user, setUser] = useState('')\n  const navigate = useNavigate()\n  const location = useLocation()\n  const auth = useAuth()\n\n  // const redirectPath = location.state?.path || '/'\n\n  // const handleLogin = () => {\n  //   auth.login(email)\n  //   navigate(redirectPath, { replace: true })\n  // }\n\n\n\n\n  useEffect(() => {\n    setGetToken(JSON.parse(localStorage.getItem(\"token\")));\n    \n  \n  }, []);\n  let handleSubmit = async (e) => {\n           \n    auth.login(email)\n    // navigate(redirectPath, { replace: true })\n    // auth.Login(user)\n    e.preventDefault();\n    try {\n      var myHeaders = new Headers();\n      myHeaders.append(\"x-auth-token\", getToken);\n      myHeaders.append(\"Authorization\", \"Bearer\" + getToken);\n      myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n      var urlencoded = new URLSearchParams();\n      urlencoded.append(\"email\", email);\n      urlencoded.append(\"password\", password);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: urlencoded,\n        redirect: \"follow\",\n      };\n//ye ap ny sai wala dala tha ab dono condition check kro\n      fetch(\"http://localhost:5000/auth\", requestOptions)\n        .then((response) => response.text())\n        .then((result) => {\n          const data =JSON.parse(result)\n\n          console.log(\"token>>>>>\",data.token)\n          alert(data.token)\n          if (data.token) {\n            localStorage.setItem('token',result)\n         console.log(\"token\",data.token)\n            navigate('/service')\n          } else {\n          \n            alert(\"Invalid\");\n          }\n        })\n        .catch((error) => console.log(\"error\", error));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n\n\n\n  return (<>\n    {/* <div>\n      <label>\n        Username: <input type='text' onChange={e => setUser(e.target.value)} />\n      </label>{' '}\n      <button onClick={handleLogin}>Login</button>\n    </div> */}\n    \n    \n    \n    \n    <div className=\"text-center position-absolute top-50 start-50 translate-middle signup-form body1\">\n    <form onSubmit={handleSubmit} className=\"row g-3 form-group\">\n      <div className=\"col-12  form-group\">\n    \n    \n        <input   className=\"form-control  \"\n          type=\"email\"\n          value={email}\n          placeholder=\"email\"\n          onChange={(e) => setemail(e.target.value)}\n        /></div><div className=\"col-md-6 form-group\">\n        <input   className=\"form-control \"\n          type=\"password\"\n          value={password}\n          placeholder=\"password\"\n          onChange={(e) => setpassword(e.target.value)}\n        /></div>\n        <button className=\" btn  btn-primary\" type=\"submit\">Login</button>\n\n        <div className=\"message\">{message ? <p>{message}</p> : null}</div>\n      </form>\n      <div className=\"hint-text \">\n          Don't have an account?Click here{\" \"}\n          <a href=\"/register\">\n            <span className=\"text-dark\">Create an Account</span>\n          </a> <br/><span class=\"psw\">Forgot password? <a href=\"/forgottenpassword\">Reset here</a></span>\n        </div>\n    </div>\n    \n    \n    \n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}